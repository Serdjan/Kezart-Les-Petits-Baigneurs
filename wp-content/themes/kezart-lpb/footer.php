<?php

$screenshot = get_field('app_screenshot', 'option');
$buttons = get_field('footer_buttons', 'option');
$cards = get_field('accepted_cards', 'option');
$cardsText = get_field('accepted_cards_text', 'option');
$socialMedia = get_field('social_media', 'option'); ?>

<footer class="bg-blue">
    <div class="container py-14 lg:py-30">
        <div class="grid grid-cols-12 gap-y-20">
            <div class="col-span-12 lg:col-span-3">
                <a href="<?php
                echo esc_url(home_url('/')); ?>" class="inline-block mb-20">
                    <svg width="104" height="78" viewBox="0 0 104 78" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M58.3039 41.9051C57.2451 43.0593 54.2283 45.1016 53.7488 46.3354C53.3454 47.374 53.8895 48.0792 54.9037 48.1539C58.291 48.4039 64.8863 41.6463 67.617 39.5356C69.7439 27.8826 72.9788 11.2543 81.7936 3.11496C87.2785 -1.94975 94.718 -0.506953 95.8494 7.73191C96.8261 14.8489 92.6427 21.293 88.5929 26.4758C84.2429 32.043 79.1039 37.063 73.932 41.7546C73.6835 42.1824 73.932 42.8976 74.0833 43.3516C76.4177 50.3529 83.7153 41.7048 86.1365 39.1575C87.5927 37.6264 90.504 33.65 92.6403 33.65C96.4568 33.65 94.1282 39.6215 96.4591 41.0095C98.2132 42.0543 100.161 40.67 101.783 40.0829C105.065 38.8963 104.042 41.0021 102.433 42.5108C99.8652 44.92 94.4272 47.7869 92.5254 43.0655C92.2698 42.4312 92.0025 40.7894 91.7527 40.4063C91.3471 39.7869 90.3012 40.7434 89.9565 41.0929C87.4661 43.619 85.5596 47.2148 82.8524 49.8429C78.4262 54.1402 71.5918 56.4313 68.7238 49.0307C68.4753 48.3902 68.3522 47.5282 68.1024 46.9511C68.0614 46.8553 68.0825 46.7148 67.9019 46.7969C67.7014 46.8889 66.5242 48.0668 66.1877 48.3367C62.2763 51.4735 52.0088 58.5955 48.401 51.8044C46.3457 47.9337 49.3214 45.6601 50.8598 42.6551C52.69 39.0804 48.8466 39.5742 47.0867 41.2657C42.5878 45.5879 41.5467 55.1228 42.6875 61.0918C43.432 64.9873 45.9447 69.9675 46.2671 73.4526C46.6189 77.2548 42.9806 78.516 40.4668 76.3692C34.4707 71.251 35.7229 56.1266 37.484 49.1054C38.0561 46.8255 39.1231 44.3367 39.5499 42.1003C40.2053 38.67 38.4865 40.3155 37.2964 41.7011C33.3685 46.2745 28.6809 54.8716 21.721 53.6141C16.2865 52.6327 15.44 45.6315 15.4306 40.8329C10.7218 43.2185 3.80063 43.6576 0.915126 38.1364C0.323018 37.0033 -0.469587 33.7918 0.534066 32.8117C1.38647 31.9796 2.20956 33.8528 2.60234 34.3602C6.08112 38.854 12.1394 36.6612 15.8996 33.8117C16.127 32.5928 16.2841 31.359 16.5433 30.145C18.2961 21.9497 24.7929 6.36374 31.5488 1.68585C35.5001 -1.04925 41.1879 -0.640039 43.1037 4.48189C45.5026 10.8974 41.454 18.2793 37.7044 23.1213C33.1129 29.0492 27.2845 34.0779 21.4689 38.5953C21.3188 42.7434 22.5453 47.9213 27.5084 45.1203C31.2475 43.0095 37.3011 34.2756 40.8127 33.8714C41.4869 33.7943 42.215 33.8888 42.8106 34.2408C44.9305 35.4896 43.8318 38.369 47.551 36.9125C50.9207 35.5941 57.2381 30.5194 59.9618 35.3242C61.3594 37.7894 59.9454 40.1128 58.3004 41.9063L58.3039 41.9051ZM21.9989 30.3913C22.2029 30.4485 22.2334 30.3005 22.3506 30.206C23.6626 29.15 25.1083 27.7831 26.3383 26.6039C29.579 23.4957 36.7676 15.9845 37.1217 11.3165C37.2647 9.43466 36.2751 7.56773 34.2784 7.93092C31.6215 8.41351 28.09 14.5504 26.8612 16.9695C24.739 21.1487 23.0764 25.7868 21.9989 30.3925V30.3913ZM74.6438 33.0008C77.3557 30.2259 80.0044 27.2196 82.3787 24.1126C84.5583 21.2594 89.4312 14.5367 89.0513 10.8327C88.9024 9.37745 87.8284 8.22197 86.3886 8.6063C83.7857 9.30033 80.5355 16.1126 79.4287 18.6263C77.4026 23.2295 75.8573 28.0878 74.6438 33.0008Z"
                              fill="white"/>
                    </svg>
                </a>
                <div class="flex items-center gap-3">
                    <?php
                    if (!empty($socialMedia['facebook'])) : ?>
                        <a href="<?php
                        echo esc_url($socialMedia['facebook']); ?>" target="_blank" rel="nofollow"
                           class="bg-white rounded-full text-blue size-11 inline-flex items-center justify-center">
                            <svg width="10" height="16" viewBox="0 0 10 16" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.71875 9H6.375V16H3.25V9H0.6875V6.125H3.25V3.90625C3.25 1.40625 4.75 0 7.03125 0C8.125 0 9.28125 0.21875 9.28125 0.21875V2.6875H8C6.75 2.6875 6.375 3.4375 6.375 4.25V6.125H9.15625L8.71875 9Z"
                                      fill="currentColor"/>
                            </svg>
                        </a>
                    <?php
                    endif; ?>
                    <?php
                    if (!empty($socialMedia['instagram'])) : ?>
                        <a href="<?php
                        echo esc_url($socialMedia['instagram']); ?>" target="_blank" rel="nofollow"
                           class="bg-white rounded-full text-blue size-11 inline-flex items-center justify-center">
                            <svg width="15" height="15" viewBox="0 0 15 15" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path d="M8 3.40625C9.96875 3.40625 11.5938 5.03125 11.5938 7C11.5938 9 9.96875 10.5938 8 10.5938C6 10.5938 4.40625 9 4.40625 7C4.40625 5.03125 6 3.40625 8 3.40625ZM8 9.34375C9.28125 9.34375 10.3125 8.3125 10.3125 7C10.3125 5.71875 9.28125 4.6875 8 4.6875C6.6875 4.6875 5.65625 5.71875 5.65625 7C5.65625 8.3125 6.71875 9.34375 8 9.34375ZM12.5625 3.28125C12.5625 2.8125 12.1875 2.4375 11.7188 2.4375C11.25 2.4375 10.875 2.8125 10.875 3.28125C10.875 3.75 11.25 4.125 11.7188 4.125C12.1875 4.125 12.5625 3.75 12.5625 3.28125ZM14.9375 4.125C15 5.28125 15 8.75 14.9375 9.90625C14.875 11.0312 14.625 12 13.8125 12.8438C13 13.6562 12 13.9062 10.875 13.9688C9.71875 14.0312 6.25 14.0312 5.09375 13.9688C3.96875 13.9062 3 13.6562 2.15625 12.8438C1.34375 12 1.09375 11.0312 1.03125 9.90625C0.96875 8.75 0.96875 5.28125 1.03125 4.125C1.09375 3 1.34375 2 2.15625 1.1875C3 0.375 3.96875 0.125 5.09375 0.0625C6.25 0 9.71875 0 10.875 0.0625C12 0.125 13 0.375 13.8125 1.1875C14.625 2 14.875 3 14.9375 4.125ZM13.4375 11.125C13.8125 10.2188 13.7188 8.03125 13.7188 7C13.7188 6 13.8125 3.8125 13.4375 2.875C13.1875 2.28125 12.7188 1.78125 12.125 1.5625C11.1875 1.1875 9 1.28125 8 1.28125C6.96875 1.28125 4.78125 1.1875 3.875 1.5625C3.25 1.8125 2.78125 2.28125 2.53125 2.875C2.15625 3.8125 2.25 6 2.25 7C2.25 8.03125 2.15625 10.2188 2.53125 11.125C2.78125 11.75 3.25 12.2188 3.875 12.4688C4.78125 12.8438 6.96875 12.75 8 12.75C9 12.75 11.1875 12.8438 12.125 12.4688C12.7188 12.2188 13.2188 11.75 13.4375 11.125Z"
                                      fill="currentColor"/>
                            </svg>
                        </a>
                    <?php
                    endif; ?>
                </div>
            </div>
            <div class="col-span-12 md:col-span-7 lg:col-span-4">
                <div class="text-white font-extrabold text-[34px] leading-none mb-12"><?php
                    echo get_bloginfo('name'); ?></div>
                <?php
                wp_nav_menu(
                    ['theme_location' => 'footer-1', 'container' => 'nav', 'menu_class' => 'footer-1-menu']
                ); ?>
            </div>
            <div class="col-span-12 md:col-span-5 sm:flex gap-4">
                <div class="hidden sm:block shrink-0 grow-0">
                    <?php
                    echo wp_get_attachment_image($screenshot, 'medium', false, ['class' => 'w-20']); ?>
                </div>
                <div class="flex flex-col gap-y-10">
                    <div class="space-y-4">
                        <?php
                        foreach ($buttons as $button) :
                            get_template_part(
                                'resources/views/partials/components/button',
                                null,
                                array_merge(['class' => 'text-sm button--hover-quinary'], $button['button']),
                            );
                        endforeach; ?>
                    </div>
                    <div class="space-y-2.5">
                        <div class="flex items-center gap-1">
                            <?php
                            foreach ($cards as $card) :
                                echo wp_get_attachment_image($card, 'full', false, ['class' => 'w-10']);
                            endforeach; ?>
                        </div>
                        <?php
                        if (!empty($cardsText)) : ?>
                            <p class="font-extrabold text-white"><?php
                                echo wp_kses_post($cardsText); ?></p>
                        <?php
                        endif; ?>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="bg-blue-dark py-6">
        <div class="container flex flex-wrap md:flex-nowrap items-center justify-center text-white font-extrabold leading-none gap-2.5">
            <span>&copy;<?php
                echo date('Y') . ' ' . get_bloginfo('name'); ?></span>
            <span aria-hidden="true">|</span>
            <span>Tous droits réservés</span>
            <span aria-hidden="true">|</span>
            <?php
            wp_nav_menu(
                ['theme_location' => 'footer-2', 'container' => 'nav', 'menu_class' => 'footer-2-menu']
            ); ?>
        </div>
    </div>
</footer>

<?php
wp_footer(); ?>
</body>
</html>